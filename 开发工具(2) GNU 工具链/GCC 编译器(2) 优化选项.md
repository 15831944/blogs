-O 优化选项设置一共有5种：

除了 -O0 以外，每一个 -O 设置都会多启用几个选项

# -O0

这个等级关闭所有优化选项，也是 CFLAGS 或 CXXFLAGS 中没有设置 -O 等级时的默认等级。这样就不会优化代码，这通常不是我们想要的。

# -O1

这是最基本的优化等级。编译器会在不花费太多编译时间的同时试图生成更快更小的代码。这些优化是非常基础的，但一般这些任务肯定能顺利完成。 

# -O2

-O1的进阶。这是推荐的优化等级，除非你有特殊的需求。-O2会比-O1启用多一些标记。设置了-O2后，编译器会试图提高代码性能而不会增大体积和大量占用的编译时间。

# -O3

这是最高最危险的优化等级。用这个选项会延长编译代码的时间，并且在使用gcc4.x的系统里不应全局启用。

自从3.x版本以来gcc的行为已经有了极大地改变。在3.x，-O3生成的代码也只是比-O2快一点点而已，而gcc4.x中还未必更快。

用-O3来编译所有的软件包将产生更大体积更耗内存的二进制文件，大大增加编译失败的机会或不可预知的程序行为（包括错误）。

这样做将得不偿失，记住过犹不及。在gcc 4.x.中使用-O3是不推荐的。

# -Os

-Os相当于-O2.5。是使用了所有-O2的优化选项，但又不缩减代码尺寸的方法。

这个等级用来优化代码尺寸。

其中启用了-O2中不会增加磁盘空间占用的代码生成选项。这对于磁盘空间极其紧张或者CPU缓存较小的机器非常有用。

但也可能产生些许问题，因此软件树中的大部分ebuild都过滤掉这个等级的优化。使用-Os是不推荐的。

# 参考

[ gcc 优化选项 -O1 -O2 -O3 -Os 优先级，-fomit-frame-pointer](http://blog.csdn.net/lanmanck/article/details/5776173)
