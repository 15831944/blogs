# 工具

1. 通讯工具: 读取遥信和遥测状态, 发送遥控命令(104 进程通过网络上传二遥数据, 接收遥控命令, 执行遥控要关联 SBO 进程), Net-service在910平台有, 在920中就打包到系统中去了, 包含 FTP 服务器, 用于连接通讯工具和维护工具
2. 维护工具: 方式字配置, 使用液晶进行配置时也是直接读写配置文件

# 遥信 Teleindication

1. 共享内存: 进程之间"发消息"是通过共享内存实现的, 进程数据表中, 数据来源只有一个来源, 其他进程通过数据库访问和利用这些数据
2. 关联进程: 进程配置中, 进程给关联的进程发消息, 一个进程会关联多个进程, 那么这个进程就用广播的方式给它关联的各个进程发消息
3. 关联进程：一次性的消息发送, 广播式的, 关联谁就向谁发送消息, 有SOE, 用SendSoeMsg函数, 函数不知道发消息给谁, 但进程有进程号, RTU号；
3. 遥信的关联: 遥信可以一一对应的关联, 也可以指定顺序关联
4. 遥信去抖: 大于抖动时间才计入遥信变位, 影响合闸道故障后加速功能
5. 遥信变位要发中断, 记录当前时间, 以ms为单位, 要求不大于2ms；
2. 双点遥信：能表征不合不分的状态, 即双分不确定状态, 例如开关走到一半卡住的状况；
3. 接触器 contact

SOE消息收发详细流程(关联对象转换函数的原理)

1. 每个进程都具有遥信, 双点遥信, 模拟量, 累加量, SBO, DO 共6中数据表, 使用 RTUid 区分
2. 数据表中的每个数据表项都有一个在整个方式字中唯一的 OBJ 序号标识

# 遥控 telecontrol

1. 重合闸测试: 把出口动作脉冲设置长一点, 如 5s, 做遥控合闸, 期间做保护跳闸, 则之前的合闸脉冲应该被终止, 以此测试 abort函数,
2. 遥合后加速: 把保护延时设置的长一点, 例如 5s, 过流期间但跳闸前, 做遥控合闸, 加入 abort函数, 保护跳闸脉冲会终止遥控合闸脉冲, 否则一个开关既合又分会烧掉开关
3. 多路同时跳闸: 电源线是1条线管了3个脚, 在你连续调用多个控制时, 前面调用ProtDTS500AbortSbo函数就把别的控制的电源线给取消掉了
4. 分合闸接点: XBJ300 的分合闸接点是从实际的开关引进来的, 合闸压板接跳闸引出点, 跳闸压板接合闸引出点, 是一个互锁的过程, 即合位就不能再合闸, 分位就不能再分闸, 和空接点不同, 引出这两根线是带 220V 电的, 没有这两根线的其中一根或两根, 即开关既不合, 又不分, 即会出现"分合闸接点不对应"
5. 空接点: DI 和 SBO 是空接点, 不带电,  DO 是 24V 电, 用来点灯, 空接点是一些电力电子电路, 接点等待着闭合的信号, 然后再驱动开关动作, 开关动作的电源是 220V, 是危险的, DI 和 SBO 是两个相反的过程, SBO号和DO号在板子上各是各的
8. SBO是脉冲信号, 具有脉冲宽度；DI, DO是高低电平状态信号；
11. 一个SBO对应一个合闸继电器和一个分闸继电器, 一个DO只对应一个继电器；
15. 需要返回的SBO是双向的, 进程间要相互关联；
1. 固有动作延时：采集周波数据软件计算时间, 继电器动作出口时间等；
18.    “直控SBO之间需预留几毫秒的时间,否则会冲突”指的是：当多条线路需要跳闸时，他们之间需要的时间间隔。

# 遥测 telemetry

# 遥调

# 人工置数

1. 人工置数的值覆盖原始的采样值(有效值), 不支持小数, 显示在工具上的值是乘以scale系数后的值, 要得到实际值应再除以scale系数
2. 人工置数只支持电压, 电流等基本量, 不支持功率等计算量或合成零序
40.    人工置数作用于（修改）各交流通道的基波值, 操作的是二次值；

# SCADA 系统

1. 工频信号每周波128点, 则采样频率为6400Hz

# 模拟量计算

1. 电压: 星形接法时, 测量出三相对地电压, 并计算出3个线电压; 角形接法时, 测量出Uab和Ucb这2个线电压, 并计算出Uca线电压和三相电压
2. 频率: 采用第一路A相电压的频率
3. 零序电路: 星形接法且没有实际零序通道时由软件合成零序电流值
39.    突变量检测：它的算法的作用是消除直流分量的影响, 更加灵敏, 突变量大于等于3点；

# 功率计算

依据一条电压线路通道数计算, 若接入3个通道则采用三表法计算; 若接入2个通道则采用两表法计算

# 频率跟踪

36.    频率自动跟踪：采样频率需根据信号频率变化, 计算频率与输入频率一致；

# 电池活化

23.    电池活化要发SBO命令, 接合或释放放电电阻；

# 接线方式

26.    接线方式主要是指电压的接法；
27.    角形接法时, B相是公共端, 采Uab、Ucb；
28.    星形接法时采集相电压, 计算线电压, 角形接法时, 采集线电压, 计算相电压；

# Scale 系数的计算

1. 采样数据是2字节的short型, 计算出的模拟量数据是4字节的long型, 值扩大了1000倍, 相当于精确到3位小数
2. 在保存到进程数据表中时缩小1000倍并乘以scale系数, 结果值取值范围是-32768~32767(RMS值), 用于规约进行数据传输, 若scale系数小于1000, 将损失精度
1. 用户最大值: 在保证不溢出的情况下取适当值, 对于电流电压等无符号数, 用户最小值为0, 对于功率等有符号数, 用户最小值一般为对称设置
2. 工程最大值: 取比实际量程稍大的值, 例如相电压满量程是220, 则工程最大值取320

模拟里数据表中要设置数据转换参数

104规约

传二次值用2字节的短整型，数据范围是0~65535，为了防止溢出需要进行Scale。
传一次值用4字节的短浮点型

CAN

只能传2字节的短整型
因为API定义一条报文8个字节，前2个字节用于头信息，后6个自己传3个数据
