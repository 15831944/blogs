# 1. 新特性

## 1.1 布尔数据类型

bool 类型 两个值: false 和 true

## 1.2 初始化方法

赋值初始化

`int x = 1024;`

直接初始化

`int x(1024);`

## 1.3 随用随定义

不需像 C 语言那样把变量定义全部放在函数体前面

## 1.4 输入输出方式

输入: 输入设备 -> 输入流 -> scanf(cin) -> 变量

输出: 变量 -> printf(cout) -> 输出流 -> 输出设备

## 1.5 命名空间

整个函数都要写在命名空间中

## 1.6 引用

引用是变量的别名

引用必须初始化

## 1.7 const 关键字

控制变量是否可以变化	

### 1.7.1 指向常量的指针

const 修饰 `*p`, 是间接访问到的那个变量不能变

```
const int *p = NULL;
int const *p = NULL;
```

### 1.7.2 指针常量

不能再指向其他变量, const 修饰 p, 即指针本身不能变

```
int *const p = NULL;
```

### 1.7.3 指向常量的指针常量

```
const int * const p = NULL;
int const * const p = NULL;
```

### 1.7.4 引用常量

```
int x = 3;
const int &y = x;
```

此时引用 y 的值不可修改

### 1.7.5 使用 const 修饰形参

防止函数修改传入的参数

## 1.8 函数参数默认值

必须从最右侧参数开始连续的赋默认值, 有默认值的参数必须写在参数列表的最右端

函数参数默认值应写在函数声明中, 不应写在函数定义中, 对于后者, 有些编译器可能无法通过

有实参则用实参, 无实参则用默认值

## 1.9 函数重载

在相同作用域内

函数名相同, 参数类型和个数不同的函数互为函数重载

编译器使用函数名加参数类型形成新的函数名, 以区分不同函数

返回类相关无所谓

```
int    max(int x, int y)			max_int_int
double max(double x, double y)	max_double_double
```

## 1.10 内联函数

编译时将函数体代码和实参代替函数调用语句

实参的值直接赋值给形参

inline 关键字

内联函数是建议性的, 编译器决定如何处理

内联函数适用于逻辑简单(如不包含 for 循环), 调用频繁的函数

递归函数无法使用内联函数

## 1.11 内存管理

内存是由操作系统控制的资源, 应用程序可以向操作系统申请和归还内存资源

申请和释放操作必须配套且成对使用, 即 new 和 delete, malloc 和 free

### 1.11.1 申请内存

new 运算符

使用指针接收申请到的内存地址

分配失败则返回空指针

```
int *p = new int;
int *arr = new int[10];
```

### 1.11.2 释放内存

delete 运算符

```
delete p;
delete []arr;
p = NULL;
```
内存回收后应将指针设置为空, 否则该指针还指向已经被释放的那块内存, 一旦重复调用了 delete, 内存被重复回收, 系统就会出现错误

# 参考

1. [C++ 远征之起航篇](http://www.imooc.com/learn/342)
2. [C++ 远征之离港篇](http://www.imooc.com/learn/381)
